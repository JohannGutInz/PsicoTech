:root{
  --bg:#F7FAFE; --surface:#FFFFFF; --text:#0F172A; --muted:#64748B;
  --primary:#2459A6; --primary-2:#3477D6; --accent:#22A699;
  --danger:#D14343; --ok:#1AA251;
  --radius:14px; --shadow:0 2px 10px rgba(0,0,0,.06);
}

*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.35}
img{max-width:100%;height:auto}
.visually-hidden,.sr-only{position:absolute !important;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}
.skip-link{position:absolute;left:-999px;top:0;background:var(--primary);color:#fff;padding:.5rem;border-radius:8px}
.skip-link:focus{left:8px;top:8px;z-index:10}

/* Header global */
.app-header{position:sticky;top:0;background:var(--surface);box-shadow:var(--shadow);z-index:5}
.app-header-inner{display:flex;align-items:center;justify-content:space-between;padding:.6rem .8rem;gap:.6rem}
.brand{display:flex;align-items:center;gap:.45rem}
.brand-name{font-weight:800;color:var(--primary)}
.badge{font-size:.75rem;border-radius:999px;padding:.1rem .5rem}
.badge-offline{background:#FFE8E8;color:#A21616}
.badge-lowdata{background:#E8FFF3;color:#0B6B3A}
.icon-btn{border:none;background:transparent;cursor:pointer;font-size:1.1rem}

/* Botón instalar en header */
.btn-install-header{padding:.5rem .7rem;font-size:.9rem;border-radius:10px;margin-right:.4rem}

/* Subheader (interno) */
.subheader{background:var(--primary);color:#fff;padding:.7rem 1rem;border-bottom-left-radius:12px;border-bottom-right-radius:12px;box-shadow:var(--shadow);display:flex;align-items:center;gap:.6rem}
.subheader h2{margin:0;font-size:1.1rem}
.back-button{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.35);border-radius:10px;color:#fff;padding:.35rem .55rem;cursor:pointer}

/* Main */
.app-main{padding:1rem;max-width:980px;margin:0 auto}
.page{display:none}
.page.active{display:block}

/* Componentes */
.btn{border:none;border-radius:12px;padding:.9rem 1rem;cursor:pointer;background:#e9eef6}
.btn:hover{filter:brightness(.98)}
.btn-primary{background:var(--primary);color:#fff}
.btn-outline{background:transparent;border:1px solid var(--primary);color:var(--primary)}
.btn-link{background:transparent;color:var(--primary);text-decoration:underline}
.input,select{background:#fff;border:1px solid #cbd5e1;border-radius:10px;padding:.7rem .8rem;min-height:42px}
label{display:block;margin:.35rem 0 .2rem}
.form{background:var(--surface);padding:1rem;border-radius:12px;box-shadow:var(--shadow);max-width:440px;margin:.8rem auto}
.form-inline{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;align-items:end;max-width:560px;margin-top:1rem}
.form-inline .btn{grid-column:1 / -1}
.check{display:flex;gap:.5rem;align-items:center;margin:.5rem 0}
.muted{color:var(--muted)}
.empty{background:#fff;border:1px dashed #d6dee9;border-radius:12px;padding:.8rem}

/* Home */
.grid-shortcuts{display:grid;grid-template-columns:repeat(3,1fr);gap:.6rem}
.card{background:var(--surface);border-radius:12px;box-shadow:var(--shadow);padding:1rem;text-align:center}

/* Listados y cards */
.list{list-style:none;padding:0;margin:.5rem 0 0;display:grid;gap:.5rem}
.list li,.cards .card,.resource{background:#fff;border-radius:12px;box-shadow:var(--shadow);padding:.8rem}
.list-compact li{padding:.6rem}
.row{display:flex;gap:.6rem;flex-wrap:wrap}

/* Cards de búsqueda */
.cards{display:grid;grid-template-columns:1fr;gap:.6rem;margin-top:.6rem}
.card-therapist{display:grid;grid-template-columns:64px 1fr auto;gap:.6rem;align-items:center}
.card-therapist img{width:64px;height:64px;border-radius:12px;object-fit:cover}

/* Detalle */
.detail{background:#fff;border-radius:12px;box-shadow:var(--shadow);padding:1rem}
.detail .meta{display:flex;gap:1rem;flex-wrap:wrap;color:var(--muted)}

/* Recursos */
.resource h3{margin:.2rem 0 .3rem}

/* --- Barra inferior fija al fondo --- */
.bottom-nav{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  width: 100%;
  background: #fff;
  border-top: 1px solid #e2e8f0;
  display: grid;                 /* se alterna a 'none' por JS en login/welcome */
  grid-template-columns: repeat(5, 1fr);
  gap: .2rem;
  padding: .35rem .25rem;
  z-index: 1000;
}
.nav-btn{
  background: transparent;
  border: none;
  padding: .45rem 0;
  font-size: .85rem;
  color: #334155;
  cursor: pointer;
}
.nav-btn.active{ color: var(--primary); font-weight: 700; }

/* Espacio inferior para que no lo tape la barra en páginas con nav */
.app-main{ padding-bottom: 88px; }

/* Cuando NO hay barra (welcome/login), quitamos el espacio inferior */
.no-nav .app-main{ padding-bottom: 0; }

/* Bienvenida */
.welcome{display:grid;justify-items:center;text-align:center;gap:.5rem;background:#fff;border-radius:16px;box-shadow:var(--shadow);padding:1.2rem}
.welcome-logo{border-radius:22px}

/* Foco visible */
:focus{outline:3px solid #94c4ff;outline-offset:2px}

/* Modo bajo datos */
.lowdata *{animation:none !important;transition:none !important}

/* Responsivo */
@media (min-width:680px){
  .cards{grid-template-columns:repeat(2,1fr)}
  .grid-shortcuts{grid-template-columns:repeat(4,1fr)}
}
